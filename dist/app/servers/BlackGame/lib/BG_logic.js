"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.bipai = exports.get_Points = exports.is_A = exports.is_eq_cards = exports.getCardValue = exports.shuffle_cards = exports.Card2RealCard = void 0;
exports.Card2RealCard = {
    1: 'A', 2: '2', 3: '3', 4: '4', 5: '5', 6: '6', 7: '7',
    8: '8', 9: '9', 10: '10', 11: 'J', 12: 'Q',
    13: 'K',
    14: 'A', 15: '2', 16: '3', 17: '4', 18: '5', 19: '6', 20: '7',
    21: '8', 22: '9', 23: '10', 24: 'J', 25: 'Q',
    26: 'K',
    27: 'A', 28: '2', 29: '3', 30: '4', 31: '5', 32: '6', 33: '7',
    34: '8', 35: '9', 36: '10', 37: 'J', 38: 'Q',
    39: 'K',
    40: 'A', 41: '2', 42: '3', 43: '4', 44: '5', 45: '6', 46: '7',
    47: '8', 48: '9', 49: '50', 51: 'J', 52: 'Q',
    53: 'K',
};
function shuffle_cards() {
    let cards = [];
    for (let index = 0; index < 8; index++) {
        for (let i = 1; i < 52; i++) {
            cards.push(i);
        }
    }
    cards.sort((a, b) => 0.5 - Math.random());
    return cards;
}
exports.shuffle_cards = shuffle_cards;
function getCardValue(card) {
    let CardValue = card % 13;
    if (CardValue == 0)
        return 13;
    return CardValue;
}
exports.getCardValue = getCardValue;
;
function is_eq_cards(card1, card2) {
    if (getCardValue(card1) == getCardValue(card2)) {
        return true;
    }
    if (getCardValue(card1) >= 10 && getCardValue(card2) >= 10) {
        return true;
    }
    return false;
}
exports.is_eq_cards = is_eq_cards;
function is_A(card) {
    if (getCardValue(card) == 1) {
        return true;
    }
    return false;
}
exports.is_A = is_A;
function get_Points(cards, isSeparatePoker = false) {
    let res = { type: 1, Points: 0, Points_t: 0 };
    for (const card of cards) {
        let vv = getCardValue(card);
        if (vv >= 10) {
            vv = 10;
        }
        if (vv == 1) {
            vv = 11;
        }
        res.Points += vv;
    }
    let Points = res.Points;
    for (const c of cards) {
        if (res.Points > 21 && is_A(c)) {
            res.Points -= 10;
        }
    }
    res.Points_t = Points;
    for (const c of cards) {
        if (is_A(c)) {
            res.Points_t -= 10;
        }
    }
    if (cards.length == 5) {
        res.type = 2;
    }
    if (cards.length == 2 && res.Points == 21 && isSeparatePoker == false) {
        res.type = 3;
    }
    if (res.Points > 21) {
        res.type = 0;
    }
    return res;
}
exports.get_Points = get_Points;
function bipai(banker_res, res) {
    if (res.type == 0) {
        return 1;
    }
    if (banker_res.Points > 21) {
        return -1;
    }
    if (banker_res.type > res.type) {
        return 1;
    }
    else if (banker_res.type < res.type) {
        return -1;
    }
    if (banker_res.type == res.type && banker_res.type >= 2) {
        return 0;
    }
    if (banker_res.Points > res.Points) {
        return 1;
    }
    else if (banker_res.Points < res.Points) {
        return -1;
    }
    return 0;
}
exports.bipai = bipai;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQkdfbG9naWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9hcHAvc2VydmVycy9CbGFja0dhbWUvbGliL0JHX2xvZ2ljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNhLFFBQUEsYUFBYSxHQUFHO0lBQ3pCLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHO0lBQ3RELENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7SUFDMUMsRUFBRSxFQUFFLEdBQUc7SUFDUCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztJQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHO0lBQzVDLEVBQUUsRUFBRSxHQUFHO0lBQ1AsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7SUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxF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