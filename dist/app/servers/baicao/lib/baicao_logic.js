"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCardTypeBySg = exports.bipaiSoleBySg = exports.getCardValue_x = exports.getCardValue_p = exports.getpai = exports.riffle = exports.pukes = void 0;
exports.pukes = ["", '黑A', '黑2', '黑3', '黑4', '黑5', '黑6', '黑7', '黑8', '黑9', '黑10', '黑J', '黑Q', '黑K',
    '红A', '红2', '红3', '红4', '红5', '红6', '红7', '红8', '红9', '红10', '红J', '红Q', '红K',
    '梅A', '梅2', '梅3', '梅4', '梅5', '梅6', '梅7', '梅8', '梅9', '梅10', '梅J', '梅Q', '梅K',
    '方A', '方2', '方3', '方4', '方5', '方6', '方7', '方8', '方9', '方10', '方J', '方Q', '方K',
];
function getRandomNumber(min, max) {
    if (max % 1 !== 0 || min % 1 !== 0) {
        throw "min, max不能为非整数";
    }
    const MAX = Math.max(min, max);
    const MIN = Math.min(min, max);
    const MM = MAX - MIN + 1;
    return Math.floor(Math.random() * MM) + MIN;
}
function riffle(gamePlayers) {
    let aPoker = getpai();
    const cards = [];
    while (aPoker.length >= 3) {
        const card = aPoker.splice(0, 3);
        const cardType = getCardTypeBySg(card);
        cards.push({ cards: card, cardType: cardType.cardType, Points: cardType.Points, total_CardValue: cardType.total_CardValue });
    }
    return cards;
}
exports.riffle = riffle;
function getpai() {
    const cards = [];
    for (let p = 1; p <= 52; p++) {
        cards.push(p);
    }
    cards.sort(() => 0.5 - Math.random());
    return cards;
}
exports.getpai = getpai;
;
function getCardValue_p(card) {
    let CardValue = card % 13;
    if (CardValue == 10 ||
        CardValue == 11 ||
        CardValue == 12 ||
        CardValue == 13) {
        return 0;
    }
    return CardValue;
}
exports.getCardValue_p = getCardValue_p;
;
function getCardValue_x(card) {
    let CardValue = card % 13;
    if (CardValue == 0) {
        return 13;
    }
    return CardValue;
}
exports.getCardValue_x = getCardValue_x;
;
function bipaiSoleBySg(fight1, fight2) {
    if ((fight1.cardType == fight2.cardType && fight1.cardType == 2) ||
        (fight1.cardType == fight2.cardType && fight1.cardType == 1)) {
        if (fight1.total_CardValue > fight2.total_CardValue) {
            return 0;
        }
        if (fight2.total_CardValue > fight1.total_CardValue) {
            return 1;
        }
    }
    if (fight1.cardType > fight2.cardType) {
        return 0;
    }
    if (fight1.cardType < fight2.cardType) {
        return 1;
    }
    if (fight1.Points > fight2.Points) {
        return 0;
    }
    if (fight1.Points < fight2.Points) {
        return 1;
    }
    if (fight1.Points == 0 && fight2.Points == 0) {
        return 2;
    }
}
exports.bipaiSoleBySg = bipaiSoleBySg;
;
function getCardTypeBySg(cards) {
    let Points = cards.reduce((total, Value) => { return total + getCardValue_p(Value); }, 0);
    Points = Points % 10;
    let lottery = { cardType: 0, Points: Points, total_CardValue: 0 };
    if (getCardValue_x(cards[0]) == getCardValue_x(cards[1]) && getCardValue_x(cards[1]) == getCardValue_x(cards[2])) {
        lottery.cardType = 2;
    }
    if (cards.every(c => [11, 12, 13].includes(getCardValue_x(c)))) {
        lottery.cardType = 1;
    }
    if (lottery.cardType == 1 || lottery.cardType == 2) {
        let z1 = cards.map(c => getCardValue_x(c)).sort((c1, c2) => c2 - c1);
        lottery.total_CardValue = z1[0] * 100000000 + z1[1] * 10000 + z1[2];
    }
    else {
        lottery.total_CardValue = lottery.Points;
    }
    return lottery;
}
exports.getCardTypeBySg = getCardTypeBySg;
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFpY2FvX2xvZ2ljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vYXBwL3NlcnZlcnMvYmFpY2FvL2xpYi9iYWljYW9fbG9naWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBTWEsUUFBQSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtJQUNuRyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0lBQzdFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7SUFDN0UsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSTtDQUNoRixDQUFDO0FBR0YsU0FBUyxlQUFlLENBQUMsR0FBVyxFQUFFLEdBQVc7SUFDN0MsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNoQyxNQUFNLGdCQUFnQixDQUFDO0tBQzFCO0lBRUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FB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