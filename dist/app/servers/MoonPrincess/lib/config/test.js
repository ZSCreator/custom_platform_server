"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constant_1 = require("../constant");
const utils_1 = require("../../../../utils");
const weightsC = require("../config/weights");
const utils = require("../../../../utils");
let dumpMsg = () => {
    console.time("ss");
    let windows = [
        ['E', 'E', 'E', 'F', 'H'],
        ['D', 'D', 'D', 'H', 'D'],
        ['D', 'Z', 'Z', 'D', 'D'],
        ['C', 'Z', 'C', 'D', 'A'],
        ['H', 'D', 'D', 'D', 'E']
    ];
    let roundWindows = [];
    roundWindows.push(changeFirstWindow(windows));
    console.warn("windows22222222222", JSON.stringify(roundWindows));
    const { clearCoordinates } = eliminateWindowElements(windows);
    console.warn("clearCoordinates", JSON.stringify(clearCoordinates));
    const { result: winAward, winningDetails: Tmp } = calculateClearElementProfit(clearCoordinates, windows, 1);
    console.timeEnd("ss");
    console.timeEnd("ss");
};
dumpMsg();
function changeFirstWindow(windows) {
    return windows.map(line => {
        return line.map(e => {
            return { type: e };
        });
    });
}
function generateWindow(weights) {
    const window = [];
    const num = 5;
    for (let i = 0; i < num; i++) {
        let line = [];
        while (line.length !== num) {
            const element = (0, utils_1.selectEle)(weights);
            line.push(element);
        }
        window.push(line);
    }
    console.warn("window.........", window);
    return window;
}
function selectWights() {
    let weights = Object.keys(weightsC.weights).map((element) => {
        if (constant_1.specialElements.includes(element)) {
            let V = weightsC.weights[element].weight;
            return { [element]: V };
        }
        return { [element]: weightsC.weights[element].weight };
    });
    return weights;
    console.warn("weights", weights);
}
function eliminateWindowElements(window) {
    let typePoints = {};
    window.forEach((elements, index) => {
        elements.forEach((element, i) => {
            if (!typePoints[element]) {
                typePoints[element] = [];
            }
            typePoints[element].push([index, i]);
        });
    });
    console.warn(`元素数组坐标typePoints: ${JSON.stringify(typePoints)}`);
    let conversionPoints = {};
    for (let type in typePoints) {
        conversionPoints[type] = isLine(typePoints[type]);
    }
    let list = [];
    for (let type in typePoints) {
        if (constant_1.moonElements.includes(type)) {
            list = list.concat(typePoints[type]);
        }
    }
    conversionPoints[weightsC.moon_dif] = isLine(list);
    let moon_wild_list = typePoints[weightsC.moon_wild];
    for (let type in typePoints) {
        if (constant_1.ordinaryElements.includes(type)) {
            let list_ = [];
            list_ = moon_wild_list.concat(typePoints[type]);
            conversionPoints[type] = isLine(list_);
        }
    }
    console.warn(`需要被消除的元素conversionPoints: ${JSON.stringify(conversionPoints)}`);
    const clearCoordinates = utils.filter((coordinates) => coordinates.length > 0)(conversionPoints);
    console.warn(`过滤掉的空数组保留空元素clearCoordinates: ${JSON.stringify(clearCoordinates)}`);
    for (let i in clearCoordinates) {
        if (constant_1.ordinaryElements.includes(i)) {
            clearCoordinates[i] = clearCoordinates[i].map(e => Array.from(e).map((k) => k.split('-')));
        }
    }
    for (let i in clearCoordinates) {
        for (let j in clearCoordinates[i]) {
            clearCoordinates[i][j] = utils.sortWith([
                (r1, r2) => r2[1] - r1[1],
                (r1, r2) => r1[0] - r2[0]
            ])(clearCoordinates[i][j]);
        }
        clearCoordinates[i] = utils.sortWith([
            (r1, r2) => r2[0][1] - r1[0][1],
            (r1, r2) => r1[0][0] - r2[0][0],
        ])(clearCoordinates[i]);
    }
    console.warn(`过滤掉的空数组保留空元素clearCoordinates2222222222: ${JSON.stringify(clearCoordinates)}`);
    return { clearCoordinates };
}
function clearSimilarElements(similarElementPoints) {
    console.warn(`similarElementPoints:${JSON.stringify(similarElementPoints)}`);
    let mid = {};
    for (let i in similarElementPoints) {
        for (let j in similarElementPoints) {
            if (isAdjacent(similarElementPoints[i], similarElementPoints[j])) {
                const key = similarElementPoints[i].toString();
                if (!mid[key]) {
                    mid[key] = new Set();
                }
                mid[key].add(similarElementPoints[j].join('-'));
            }
        }
    }
    console.warn("mid11", mid);
    for (let i in mid) {
        mid[i].forEach((value) => {
            mid[value.split('-').toString()].forEach((v) => {
                mid[i].add(v);
            });
        });
    }
    const coordinatesList = utils.values(mid);
    const len = coordinatesList.length;
    coordinatesList.forEach((coordinates, index) => {
        if (!coordinates) {
            return;
        }
        for (let i = index + 1; i < len; i++) {
            if (!coordinatesList[i])
                continue;
            if (isEqualSet(coordinates, coordinatesList[i])) {
                coordinatesList[i] = null;
            }
        }
    });
    const num = 3;
    console.warn("222", coordinatesList.filter(e => e !== null && e.size >= num));
    return coordinatesList.filter(e => e !== null && e.size >= num);
}
function isAdjacent(pointOne, pointTwo) {
    return Math.sqrt(Math.pow(pointOne[0] - pointTwo[0], 2) + Math.pow(pointOne[1] - pointTwo[1], 2)) === 1;
}
function isEqualSet(setOne, setTwo) {
    return new Set([...setOne].filter(x => !setTwo.has(x))).size == 0 &&
        new Set([...setTwo].filter(x => !setOne.has(x))).size == 0;
}
function isLine(similarElementPoints) {
    let list_x = [];
    let list_y = [];
    for (let m of similarElementPoints) {
        list_x.push(m[0]);
        list_y.push(m[1]);
    }
    let list_x_ = statisticalFieldNumber_key(list_x);
    let list_y_ = statisticalFieldNumber_key(list_y);
    list_x_ = list_x_.filter(x => x.value >= 3);
    list_y_ = list_y_.filter(x => x.value >= 3);
    let list = [];
    if (list_x_.length > 0) {
        for (let x of list_x_) {
            let list_xx = [];
            for (let m of similarElementPoints) {
                if (m[0] == x.key) {
                    list_xx.push(m);
                }
            }
            if (list_xx.length >= 3) {
                list = list.concat(clearSimilarElements(list_xx));
            }
        }
    }
    if (list_y_.length > 0) {
        for (let y of list_y_) {
            let list_yy = [];
            for (let m of similarElementPoints) {
                if (m[1] == y.key) {
                    list_yy.push(m);
                }
            }
            if (list_yy.length >= 3) {
                list = list.concat(clearSimilarElements(list_yy));
            }
        }
    }
    return list;
}
function statisticalFieldNumber_key(arr) {
    let list = arr.reduce(function (prev, next) {
        prev[next] = (prev[next] + 1) || 1;
        return prev;
    }, {});
    let resultList = [];
    for (let key in list) {
        resultList.push({ key: Number(key), value: list[key] });
    }
    return resultList;
}
function statisticalFieldNumber_string(arr) {
    let list = arr.reduce(function (prev, next) {
        prev[next] = (prev[next] + 1) || 1;
        return prev;
    }, {});
    let resultList = [];
    for (let key in list) {
        resultList.push({ key: key, value: list[key] });
    }
    return resultList;
}
function calculateClearElementProfit(clearCoordinates, windows, multiple) {
    let result = { windowAward: 0, jackpotMoney: null, detonatorCount: 0 };
    let winningDetails = [];
    for (let e in clearCoordinates) {
        if (constant_1.ordinaryElements.includes(e)) {
            result[e] = {};
            const elementOddsConfig = weightsC.weights[e].clearAward;
            console.warn("elementOddsConfig......", elementOddsConfig);
            for (let i in clearCoordinates[e]) {
                let weights_index = clearCoordinates[e][i];
                const len = weights_index.length;
                let odds;
                let length = len - 3;
                let num = 0;
                odds = elementOddsConfig[length];
                let weights = [];
                for (let m of weights_index) {
                    weights.push(findWeightInWindows(windows, m));
                }
                if (weightsC.moon_weights.includes(e)) {
                    if (weights.filter(x => x == e || x == weightsC.moon_wild).length !== weights.length) {
                        odds = weightsC.clearAward_princess[length];
                    }
                    if (weights.length == 3) {
                        num = 1;
                    }
                    else if (weights.length == 4) {
                        num = 2;
                    }
                    else if (weights.length == 5) {
                        num = 3;
                    }
                }
                winningDetails.push({ type: e, num: num, win: odds * 100 * multiple, multiple: multiple, weights });
            }
        }
    }
    console.warn("winningDetails....", winningDetails);
    return { result, winningDetails };
}
function findWeightInWindows(windows, index) {
    let index_x = Number(index[0]);
    let index_y = Number(index[1]);
    return windows[index_x][index_y];
}
function moon_recharge(weights) {
    let ss = statisticalFieldNumber_string(weights);
    let z = ss.find(x => x.key == 'Z');
    if (ss.length == 1) {
        return 2;
    }
    else if (z && z.value == 2 && ss.length == 3) {
        return 3;
    }
    else if (ss.length == 2 && !z) {
        if (ss[0].value == 3 || ss[1].value == 3) {
            return 3;
        }
    }
    return 2;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2FwcC9zZXJ2ZXJzL01vb25QcmluY2Vzcy9saWIvY29uZmlnL3Rlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwwQ0FBaUk7QUFDakksNkNBQTRDO0FBQzVDLDhDQUE4QztBQUM5QywyQ0FBMkM7QUFHM0MsSUFBSSxPQUFPLEdBQUcsR0FBRyxFQUFFO0lBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUlsQixJQUFJLE9BQU8sR0FBUztRQUNoQixDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUU7UUFDM0IsQ0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFFO1FBQzNCLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBRTtRQUMzQixDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUU7UUFDM0IsQ0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFFO0tBQzlCLENBQUM7SUFFRixJQUFJLFlBQVksR0FBaUMsRUFBRSxDQUFDO0lBQ3BELFlBQVksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM5QyxPQUFPLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQTtJQUUvRCxNQUFNLEVBQUcsZ0JBQWdCLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvRCxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENB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