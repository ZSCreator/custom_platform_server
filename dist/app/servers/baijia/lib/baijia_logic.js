"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPai = exports.canBupaiByPlay = exports.canBupaiByBank = exports.getCardTypeTo9 = exports.getResultTo9 = void 0;
const utils = require("../../../utils");
function getResultTo9(cards0, cards1, cardType0, cardType1) {
    const ret = {
        play: false, bank: false, draw: false,
        big: false, small: false, pair0: false, pair1: false
    };
    if (cardType0 > cardType1) {
        ret.play = true;
    }
    else if (cardType0 < cardType1) {
        ret.bank = true;
    }
    else {
        ret.draw = true;
    }
    if (cards0.length + cards1.length > 4) {
        ret.big = true;
    }
    else {
        ret.small = true;
    }
    if (hasPair(cards0)) {
        ret.pair0 = true;
    }
    if (hasPair(cards1)) {
        ret.pair1 = true;
    }
    return ret;
}
exports.getResultTo9 = getResultTo9;
;
function getCardTypeTo9(cards) {
    let ret = 0;
    cards.forEach(m => {
        let num = m % 13 + 1;
        ret += (num >= 10 ? 0 : num);
    });
    ret = ret % 10;
    return ret;
}
exports.getCardTypeTo9 = getCardTypeTo9;
;
function canBupaiByBank(cardType0, cardType1, bupai = -1) {
    if (bupai !== -1) {
        bupai = bupai % 13 + 1;
        bupai = bupai >= 10 ? 0 : bupai;
    }
    if (cardType0 >= 8 || cardType1 >= 7) {
        return false;
    }
    if (cardType1 <= 2 || (bupai === -1 && cardType1 <= 5)) {
        return true;
    }
    if (cardType1 === 3 && bupai !== 8) {
        return true;
    }
    if (cardType1 === 4 && [0, 1, 8, 9].indexOf(bupai) === -1) {
        return true;
    }
    if (cardType1 === 5 && [0, 1, 2, 3, 8, 9].indexOf(bupai) === -1) {
        return true;
    }
    if ((cardType1 === 6 || cardType1 === 7) && [6, 7].indexOf(bupai) !== -1) {
        return true;
    }
    return false;
}
exports.canBupaiByBank = canBupaiByBank;
;
function canBupaiByPlay(cardType0, cardType1) {
    if (cardType0 >= 8 || cardType1 >= 8) {
        return false;
    }
    return cardType0 <= 5;
}
exports.canBupaiByPlay = canBupaiByPlay;
;
function getPai(count) {
    const cards = [];
    for (let i = 0; i < count; i++) {
        for (let p = 0; p < 52; p++) {
            cards.push(p);
        }
    }
    utils.disorganizeArr(cards);
    return cards;
}
exports.getPai = getPai;
;
function hasPair(cards) {
    return cards[0] % 13 === cards[1] % 13;
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFpamlhX2xvZ2ljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vYXBwL3NlcnZlcnMvYmFpamlhL2xpYi9iYWlqaWFfbG9naWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsd0NBQXlDO0FBVXpDLFNBQWdCLFlBQVksQ0FBQyxNQUFnQixFQUFFLE1BQWdCLEVBQUUsU0FBaUIsRUFBRSxTQUFpQjtJQUNqRyxNQUFNLEdBQUcsR0FBK0I7UUFDcEMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLO1FBQ3JDLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLO0tBQ3ZELENBQUM7SUFDRixJQUFJLFNBQVMsR0FBRyxTQUFTLEVBQUU7UUFDdkIsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7S0FDbkI7U0FBTSxJQUFJLFNBQVMsR0FBRyxTQUFTLEVBQUU7UUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7S0FDbkI7U0FBTTtRQUNILEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0tBQ25CO0lBQ0QsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ25DLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO0tBQ2xCO1NBQU07UUFDSCxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztLQUNwQjtJQUNELElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ2pCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0tBQ3BCO0lBQ0QsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDakIsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7S0FDcEI7SUFDRCxPQUFPLEdB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